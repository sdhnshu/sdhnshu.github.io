<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Sudhanshu Passi - How to build your own font image dataset</title><meta name=description content="Sudhanshu Passi's personal website"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><link rel=stylesheet href=https://www.sdhnshu.com/css/bootstrap.min.css><link href="https://fonts.googleapis.com/css2?family=Lato&family=Merriweather:wght@300&display=swap" rel=stylesheet><link rel=stylesheet href=https://www.sdhnshu.com/css/font-awesome.min.css><link rel=stylesheet href=https://www.sdhnshu.com/css/owl.carousel.css><link rel=stylesheet href=https://www.sdhnshu.com/css/owl.theme.css><link href=https://www.sdhnshu.com/css/style.violet.css rel=stylesheet id=theme-stylesheet><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/atom-one-dark.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link href=https://www.sdhnshu.com/css/custom.css rel=stylesheet><link rel="shortcut icon" href=https://www.sdhnshu.com/img/favicon.ico><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-173272544-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><div id=all><div class=container-fluid><div class="row row-offcanvas row-offcanvas-left"><div id=sidebar class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas"><div class=sidebar-content><h1 class=sidebar-heading><a href=https://www.sdhnshu.com/>Sudhanshu Passi</a></h1><ul class=sidebar-menu><li><a href=https://www.sdhnshu.com/showcase/>Showcase</a></li><li><a href=https://www.sdhnshu.com/experiments/>Experiments</a></li><li><a href=https://www.sdhnshu.com/about/>About</a></li></ul><p class=social><a href=https://github.com/sdhnshu data-animate-hover=pulse class=external><i class="fa fa-github"></i></a><a href=mailto:sudhanshupassi@gmail.com data-animate-hover=pulse class=email><i class="fa fa-envelope"></i></a><a href=https://www.linkedin.com/in/sdhnshu/ data-animate-hover=pulse class=external><i class="fa fa-linkedin"></i></a><a href=https://twitter.com/Sudhanshupassi data-animate-hover=pulse class="external twitter"><i class="fa fa-twitter"></i></a><a href=https://medium.com/@sdhnshu data-animate-hover=pulse class=external><i class="fa fa-medium"></i></a></p><div class=copyright><p class=credit>&copy; 2020 Sudhanshu Passi</p></div></div></div><div class="col-xs-12 col-sm-8 col-md-9 content-column white-background"><div class="small-navbar visible-xs"><button type=button data-toggle=offcanvas class="btn btn-ghost pull-left"> <i class="fa fa-align-left"></i>Menu</button><h1 class=small-navbar-heading><a href=https://www.sdhnshu.com/>Sudhanshu Passi</a></h1></div><div class=row><div class=col-lg-11><div class=content-column-content><h1>How to build your own font image dataset</h1><i><p class=timestamp>Last updated Jul 7, 2020</p></i><p>Generate an image dataset from your favourite fonts.</p><p><img src=https://www.sdhnshu.com/img/posts/opensans.jpg alt=img></p><ul><li>Grab the code from <a href=https://github.com/sdhnshu/fontds>github.com/sdhnshu/fontds</a></li></ul><h3 id=intro>Intro</h3><p>In this post, I&rsquo;ll show a way to create a dataset of <code>1024px x 1024px</code> images showcasing your favourite fonts. You may use such a dataset for any kind of analysis or computer vision model training. The whole process takes <strong>less than 5 mins</strong> and can be done on any basic computer. You will be able to choose the fonts to add to your dataset and the filler text (<a href=https://en.wikipedia.org/wiki/Hamburgevons><em>Hamburgefonstiv</em></a> in this case).</p><h3 id=thank-you-fontsquirrelcom>Thank you fontsquirrel.com</h3><p>Before we move on, I&rsquo;d like to thank the people behind <a href=https://www.fontsquirrel.com/>FontSquirrel.com</a> for the amazing resources on their website. I&rsquo;ve downloaded many free fonts from their website in the past. And we&rsquo;ll be downloading our <code>.otf</code> or <code>.ttf</code> fontfiles from there today. In the scripts I&rsquo;ve written, I&rsquo;ve made sure that I&rsquo;m not taxing their servers by pinging them too often. Doing so will restrict others from accessing their resources and can get your IP address blacklisted. We do not want that. That said, let&rsquo;s get into the process.</p><h3 id=the-process>The Process</h3><h4 id=step-1-download-the-fonts>Step 1: Download the fonts</h4><p>Currently, my code supports downloading exclusively from <a href=https://www.fontsquirrel.com/>FontSquirrel</a> servers. This doesn&rsquo;t include the fonts linked from fontsquirrel to external sources (Offsite). It is easy enough to adapt it to other websites given you have some basic knowledge of <a href=https://www.crummy.com/software/BeautifulSoup/>BeautifulSoup</a>. Feel free to add a <a href=https://github.com/sdhnshu/fontds/pulls>Pull Request to the repo</a> when you do so.</p><p>To download the fonts, all you have to do is filter the ones you want using the pane on the right and copy the URL of the page. It should look something like <code>https://www.fontsquirrel.com/fonts/list/classification/sans%20serif</code>. Also, take a note of the page numbers you want to download to and from.</p><p>After installing the required packages from <a href=https://github.com/sdhnshu/fontds/blob/master/requirements.txt>requirements.txt</a>, run the script as follows:</p><ul><li><code>--url</code>: url of the page you want to scrape</li><li><code>--start</code>: first page number to scrape</li><li><code>--end</code>: last page number to scrape</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd>python download_fonts.py --url https://www.fontsquirrel.com/fonts/list/classification/sans%20serif --start 1 --end 2
</code></pre></div><p>All fontfiles are downloaded as <code>.zip</code> in the <code>fontfiles</code> folder. You can unzip them all at once by running <code>open *zip</code> on Macintosh if you have <a href=https://theunarchiver.com/>Unarchiver</a> or by running <code>unzip '*.zip'</code> on Linux. For Windows, Winrar does the job I guess.</p><h4 id=step-2-draw-the-fonts>Step 2: Draw the fonts</h4><p>Once all the font files are unzipped and ready, we can ask <a href=https://python-pillow.org/>Pillow</a> to draw them onto a 1024x1024 canvas.</p><p>Because I wanted a dataset of images to train a Generative Adversarial Network, which works well with 4x4 grids, I decided to give each alphabet <code>256px x 256px</code>. The challenge I faced was that the alphabets did not align in the center of the space I allocated. So to solve that, I added some <a href=https://github.com/sdhnshu/fontds/blob/master/draw_fonts.py#L21>padding to the top</a>.</p><p>To convert all the fonts in the <code>fontfiles</code> folder to .jpg, run:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd>python draw_fonts.py
</code></pre></div><p>If you want to convert just one of them, use something like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd>python draw_fonts.py --f fontfiles/OpenSans-Semibold.ttf
</code></pre></div><p>This will create images by the same name as the font in the <code>imgs</code> folder.</p><p>You can also change the filler text by changing the <a href=https://github.com/sdhnshu/fontds/blob/master/draw_fonts.py#L8>text on this line</a>.</p><hr><p>That&rsquo;s all folks! Feel free to use the code for your projects as it is under the MIT License. But make sure you limit the ping to any servers to ensure availability to others. Happy Coding!</p></div></div></div></div></div></div></div><script src=https://www.sdhnshu.com/js/jquery.min.js></script><script src=https://www.sdhnshu.com/js/bootstrap.min.js></script><script src=https://www.sdhnshu.com/js/jquery.cookie.js></script><script src=https://www.sdhnshu.com/js/ekko-lightbox.js></script><script src=https://www.sdhnshu.com/js/jquery.scrollTo.min.js></script><script src=https://www.sdhnshu.com/js/masonry.pkgd.min.js></script><script src=https://www.sdhnshu.com/js/imagesloaded.pkgd.min.js></script><script src=https://www.sdhnshu.com/js/owl.carousel.min.js></script><script src=https://www.sdhnshu.com/js/front.js></script></body></html>